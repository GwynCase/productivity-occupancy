"0","# Bring in specimen data."
"0","remains.data <- read_csv('data/processed/specimens_20210318.csv', guess_max=7000) %>% "
"0","  ## filter only records with at least size assigned..."
"0","  filter(size != 'U')"
"0",""
"0","# Bring in camera data."
"0","photos <- read_csv('data/interim/cameras_20210623.csv', guess_max=7000)"
"0","camera.data <- photos %>% "
"0","  ## filter only records with at least size assigned..."
"0","  filter(size != 'U')"
"0",""
"0","# Bring in a list of site abbreviations and site names."
"0","nest.list <- read_csv('data/processed/site_abbreviations.csv')"
"0",""
"0","# Standardize the specimen data."
"0","remains.data <- left_join(remains.data, nest.list, by=c('name', 'site')) %>% "
"0","  select(site, date, class, order, family, genus, species, common, size, age, source)"
"0",""
"0","# Standardize the camera data."
"0","camera.data <- camera.data %>% "
"0","  mutate(date=date(datetime), source='C') %>% "
"0","  select(site, date, class, order, family, genus, species, common, size, age, source)"
"0",""
"0","# Join them together."
"0","diet.data <- bind_rows(remains.data, camera.data)"
"0",""
"0","# Add a unique site/year identifier."
"0","diet.data <- diet.data %>% "
"0","  mutate(year=year(date), nest=paste(site, year, sep=''))"
"0",""
"0","# Do some cleanup."
"0","diet.data <- diet.data %>% "
"0","  mutate(size=case_when("
"0","    size %in% c('S', 'Small') ~ 'small',"
"0","    size %in% c('M', 'Medium') ~ 'medium',"
"0","    size %in% c('L', 'Large') ~ 'large'"
"0","  ))"
"0",""
"0","# Fix the gray jay."
"0","diet.data <- diet.data %>% mutate(common=case_when("
"0","  common == 'gray jay' ~ 'canada jay',"
"0","  TRUE ~ common"
"0","))"
