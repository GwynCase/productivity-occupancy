"0","# Load up some libraries."
"0","library('tidyverse')"
"0","library('lubridate')"
"0","library('ggplot2')"
"0","library('knitr')"
"0","library('kableExtra')"
"0","# Import the data."
"0","df <- read.csv('../data/interim/camera_data.csv', stringsAsFactors=FALSE)"
"0","# Do the datetime thing."
"0","df <- df %>% mutate(datetime=parse_date_time(datetime, "
"0","                       orders=c('%Y-%m-%d %H:%M:%S', '%Y/%m/%d %H:%M:%S')))"
"0","# Get a list of all kinds of prey items recorded."
"0","prey <- df %>% filter(class != '') %>%"
"0","  group_by(class, order, family, genus, species) %>% "
"0","  summarise(n=n())"
"0","# Looks like there's a typo I missed..."
"0","df <- df %>% replace_na(list(order='unknown'))"
"0","# And another..."
"0","df <- df %>% mutate(genus=case_when("
"0","  species == 'fulignosus' ~ 'Dendragapus',"
"0","  TRUE ~ genus),"
"0","  family=case_when("
"0","    species == 'fulignosus' ~ 'Phasianidae',"
"0","    TRUE ~ family"
"0","  )"
"0",")"
"0","# Remake the prey table."
"0","prey <- df %>% filter(class != '') %>%"
"0","  group_by(class, order, family, genus, species, common, size) %>% "
"0","  summarise(n=n())"
"0","# Check it out."
"0","prey"
