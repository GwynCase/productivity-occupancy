"0","# Twist camera data wide."
"0","cam.genus.wide <- items %>% filter(genus != 'Unknown') %>% "
"0","  group_by(site, genus, species) %>% "
"0","  mutate(count=n()) %>% "
"0","  dplyr::select(site, genus, species, count) %>% "
"0","  unite(name, 2:3, sep=' ') %>% "
"0","  distinct() %>% "
"0","  pivot_wider(names_from=name, values_from=count,"
"0","                         values_fill=list(count = 0))"
"0",""
"0","# Calculate Simpson's diversity index."
"0","cam.simpson <- plyr::ddply(cam.genus.wide, ~site, function(x) {"
"0","           data.frame(simpson=diversity(x[-1], index='simpson'))"
"0","   })"
"0",""
"0","ggplot(cam.simpson, aes(x=site, y=simpson)) +"
"0","  geom_bar(stat='identity') +"
"0","  labs(title='Diet diversity', y='Simpson Index', x='Site') +"
"0","  coord_flip() +"
"0","  theme_classic()"
