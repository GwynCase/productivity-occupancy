"0","# Load up some libraries."
"0","library(tidyverse)"
"0","library(sf)"
"0","library(raster)"
"0","library(landscapemetrics)"
"0",""
"0","# Import nests and calculate centroids."
"0","cam.sites <- read_csv('../data/processed/the_big_list_of_nests.csv') %>% "
"0","  group_by(name) %>% "
"0","  mutate_at(c('lat', 'lon'), mean) %>% "
"0","  mutate_at(vars(starts_with('status')), max) %>% "
"0","  mutate_at(c('telemetry', 'cameras', 'remains'), max) %>% "
"0","  dplyr::select(-nest, -NOTES) %>% "
"0","  distinct() %>% "
"0","  filter(cameras > 0)"
"0",""
"0","# Drop TCR, ungroup."
"0","cam.sites <- cam.sites %>% filter(site != 'TCR') %>% "
"0","  ungroup() %>% "
"0","  rownames_to_column(var='plot_id') %>% "
"0","  mutate(plot_id=as.integer(plot_id))"
"0",""
"0","# Make site table a spatial object and make it UTMs."
"0","cam.sites.sf <- ungroup(cam.sites) %>% st_as_sf(coords=c('lon', 'lat')) %>%"
"0","  st_set_crs('+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs') %>%"
"0","  st_transform(""+proj=utm +zone=10 +datum=WGS84 +units=m +no_defs"")"
"0",""
"0","# Convert approximate homerange area in ha to radius in m"
"0","a.hr.ha <- 3700"
"0","r.hr.m <- sqrt(a.hr.ha*10000/pi)"
"0",""
"0","# Import the BEC raster."
"0","r.bec <- raster('../data/interim/bec_raster_SC.tif')"
