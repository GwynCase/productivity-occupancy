"0","# Fix that pesky squirrel."
"0","items <- items %>% mutate(species=case_when("
"0","  genus == 'Tamiasciurus' & species == 'sp' ~ 'douglasii',"
"0","  TRUE ~ species"
"0","))"
"0",""
"0","# Select only items identified at least to genus."
"0","to.genus <- items %>% filter(genus != 'Unknown') %>% "
"0","  group_by(site, genus, species) %>% "
"0","  mutate(count=n()) %>% "
"0","  select(site, genus, species, count) %>% "
"0","  unite(name, 2:3, sep=' ') %>% "
"0","  distinct() %>%"
"0","  pivot_wider(names_from=name, values_from=count, values_fill=list(count=0))"
"0",""
"0","# Make site names row names."
"0","to.genus <- to.genus %>% column_to_rownames(var='site')"
"0",""
"0","# Make the PCA."
"0","genus.pca <- prcomp(to.genus, center=TRUE, scale=TRUE)"
"0",""
"0","# Check it out."
"0","ggbiplot(genus.pca, labels=rownames(to.genus)) +"
"0","  xlim(-2, 2) +"
"0","  ylim(-2, 2) +"
"0","  theme_classic()"
