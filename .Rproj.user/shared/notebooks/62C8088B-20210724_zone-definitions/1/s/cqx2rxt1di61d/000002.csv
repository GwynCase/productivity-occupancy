"0","# Read in nest data."
"0","nests <- read_csv('../data/processed/sc_nests.csv')"
"0",""
"0","# Calculate a centroid for each site."
"0","centroids <- nests %>% group_by(site) %>% "
"0","  mutate(xcoord=mean(xcoord), ycoord=mean(ycoord)) %>% "
"0","  distinct(site, name, xcoord, ycoord) %>% ungroup()"
"0",""
"0","# Make it a spatial object for later."
"0","centroids.sf <- centroids %>% "
"0","  st_as_sf(coords=c('xcoord', 'ycoord')) %>% "
"0","  st_set_crs('+proj=utm +zone=10 +datum=WGS84 +units=m +no_defs') %>% "
"0","  st_as_sf()"
"0",""
"0","# Bring in study area shapefile."
"0","tz.region <- read_sf(dsn='../data/processed/new_transition_zone.shp', "
"0","                     layer='new_transition_zone') %>% "
"0","  ms_simplify()"
"0",""
"0","# Add zone information to centroids."
"0","centroids.sf <- centroids.sf %>% mutate("
"0","  zone=as.integer(st_intersects(geometry, tz.region)),"
"0","  zone=case_when("
"0","    is.na(zone) ~ 'cs',"
"0","    TRUE ~ 'tz'"
"0","  )"
"0",")"
