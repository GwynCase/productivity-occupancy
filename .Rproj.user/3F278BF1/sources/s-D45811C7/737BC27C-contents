diet.items %>% filter(genus == 'Larus')

# Create a function to calculate n.
give.n <- function(x){
  return(c(y = mean(x), label = length(x)))
}

ggplot(diamonds, aes(cut, price)) + 
  geom_boxplot() + 
  stat_summary(fun.data = give.n, geom = "text")

test <- nf %>% select(size, data, m.proportion.suitable) %>% 
  mutate(resids=map2(data, m.proportion.suitable, add_residuals))

res <- unnest(test, resids) %>% select(size, proportion.suitable, resid)


res %>% 
  ggplot(aes(proportion.suitable, resid)) +
  geom_line(aes(group=size))

names(res)
