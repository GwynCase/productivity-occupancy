data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(summary) %>%
map_dbl(c('r.squared'))
# Here's pulling out one output for each size.
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(summary) %>%
map_dbl(c('r.squared', 'p.value'))
# Here's pulling out one output for each size.
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(summary)
# Here's pulling out one output for each size.
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(summary) %>%
map(glance)
# Here's pulling out one output for each size.
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(coef)
# Here's pulling out one output for each size.
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(coef) %>%
map(function(x) data.frame(level = names(x), estimate = x,
stringsAsFactors = FALSE))
# Here's pulling out one output for each size.
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(coef) %>%
map(function(x) data.frame(level = names(x), estimate = x,
stringsAsFactors = FALSE)) %>%
bind_rows(.id='size')
# Here's pulling out one output for each size.
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(coef) %>%
map(function(x) data.frame(level = names(x), estimate = x,
stringsAsFactors = FALSE)) %>%
bind_rows(.id='size')
# What about using summary?
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary)
# What about using summary?
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance)
# What about using summary?
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
map(function(x) data.frame(level = names(x), estimate = x,
stringsAsFactors = FALSE))
# What about using summary?
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
map(function(x) data.frame(level = names(x), estimate = x,
stringsAsFactors = FALSE)) %>%
bind_rows(.id='size')
# What about using summary?
test <- data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
map(function(x) data.frame(level = names(x), estimate = x,
stringsAsFactors = FALSE)) %>%
bind_rows(.id='size')
View(test)
# What about using summary?
test <- data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
map(function(x) data.frame(level = names(x), bec.diversity = x,
stringsAsFactors = FALSE)) %>%
bind_rows(.id='size')
# What about using summary?
test <- data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) #%>%
# What about using summary?
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) #%>%
map(function(x) data.frame(level = names(x),
stringsAsFactors = FALSE)) %>%
bind_rows(.id='size')
# What about using summary?
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
#map(function(x) data.frame(level = names(x), bec.diversity = x,
# stringsAsFactors = FALSE)) %>%
bind_rows(.id='size')
diet.diversity.by.bec.diversity %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
diet.diversity.by.bec.diversity %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ hsi.interspersion, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ bec.richness, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~aov(diet.diversity ~ dominant.bec, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~aov(diet.diversity ~ dominant.bec, data=.x)) %>%
map(summary) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~aov(diet.diversity ~ dominant.bec, data=.x)) %>%
map(summary) #%>%
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ dominant.bec, data=.x)) %>%
map(summary) #%>%
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ dominant.bec, data=.x)) %>%
map(tidy) #%>%
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ dominant.bec, data=.x)) %>%
map(tidy) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ cover.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ cover.edge.density, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ cover.interspersion, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(diet.diversity ~ year, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
# Diet diversity models.
aictab(c(diet.diversity.by.bec.diversity,
diet.diversity.by.bec.richness,
diet.diversity.by.cover.diversity,
diet.diversity.by.cover.edge.density,
diet.diversity.by.cover.interspersion,
diet.diversity.by.hsi.edge.density,
diet.diversity.by.hsi.interspersion)) %>%
data.frame()
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~aov(proportion.squirrel ~ dominant.bec, data=.x)) %>%
map(tidy) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ cover.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ cover.edge.density, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ cover.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ amount.cover.mature, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ amount.suitable, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ hsi.edge.density, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ hsi.interspersion, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ year, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
aictab(c(
proportion.squirrel.by.cover.diversity,
proportion.squirrel.by.cover.edge.density,
proportion.squirrel.by.cover.interspersion,
proportion.squirrel.by.amount.cover.mature,
proportion.squirrel.by.amount.suitable,
proportion.squirrel.by.hsi.edge.density,
proportion.squirrel.by.hsi.interspersion
)) %>%
data.frame()
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ year, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
# The proportion of squirrel biomass is determined by year only (null model).
proportion.squirrel.by.year <- data %>%
drop_na(proportion.squirrel) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ year, data=.x))
names(proportion.squirrel.by.year) <- names(proportion.squirrel.by.year) %>%
map_chr(~ paste('~ year:', .x))
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(proportion.squirrel ~ year, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(productivity ~ diet.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ diet.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ diet.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ amount.suitable, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lat, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ longitude, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lon, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lat * lon, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ year, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ proportion.squirrel, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
aictab(c(
n.fledglings.by.diet.diversity,
n.fledglings.by.proportion.squirrel,
n.fledglings.by.amount.suitable,
n.fledglings.by.lat,
n.fledglings.by.lon,
n.fledglings.by.lat.lon
)) %>%
data.frame()
# Productivity is determined by diet diversity.
n.fledglings.by.diet.diversity <- data %>%
drop_na(n.fledglings) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ diet.diversity, data=.x))
names(n.fledglings.by.diet.diversity) <- names(n.fledglings.by.diet.diversity) %>%
map_chr(~ paste('~ diet diversity:', .x))
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ diet.diversity, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
# Productivity is determined by proportion of squirrel.
n.fledglings.by.proportion.squirrel <- data %>%
drop_na(n.fledglings) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ proportion.squirrel, data=.x))
names(n.fledglings.by.proportion.squirrel) <- names(n.fledglings.by.proportion.squirrel) %>%
map_chr(~ paste('~ proportion squirrel:', .x))
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ proportion.squirrel, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
# Productivity is determined by the amount of suitable habitat.
n.fledglings.by.amount.suitable <- data %>%
drop_na(n.fledglings) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ amount.suitable, data=.x))
names(n.fledglings.by.amount.suitable) <- names(n.fledglings.by.amount.suitable) %>%
map_chr(~ paste('~ amount suitable habitat:', .x))
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ amount.suitable, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
# Productivity is determined by geographic position.
n.fledglings.by.lat <- data %>%
drop_na(n.fledglings) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lat, data=.x))
names(n.fledglings.by.lat) <- names(n.fledglings.by.lat) %>%
map_chr(~ paste('~ lat:', .x))
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lat, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
n.fledglings.by.lon <- data %>%
drop_na(n.fledglings) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lon, data=.x))
names(n.fledglings.by.lon) <- names(n.fledglings.by.lon) %>%
map_chr(~ paste('~ lon:', .x))
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lon, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
n.fledglings.by.lat.lon <- data %>%
drop_na(n.fledglings) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lat * lon, data=.x))
names(n.fledglings.by.lat.lon) <- names(n.fledglings.by.lat.lon) %>%
map_chr(~ paste('~ lat & lon:', .x))
data %>%
drop_na(diet.diversity) %>%
split(.$size) %>%
map(~lm(n.fledglings ~ lat * lon, data=.x)) %>%
map(summary) %>%
map(glance) %>%
bind_rows(.id='size')
aictab(c(
n.fledglings.by.diet.diversity,
n.fledglings.by.proportion.squirrel,
n.fledglings.by.amount.suitable,
n.fledglings.by.lat,
n.fledglings.by.lon,
n.fledglings.by.lat.lon
)) %>%
data.frame()
filter(camera.sites$year == 2019) %>% nrow()
filter(camera.sites$year == '2019') %>% nrow()
camera.sites %>% filter(year == 2019)
camera.sites %>% filter(year == 2019) %>% nrow()
